---
layout: page
titles:
  # @start locale config
  en      : &EN       Archive
  en-GB   : *EN
  en-US   : *EN
  en-CA   : *EN
  en-AU   : *EN
  zh-Hans : &ZH_HANS  归档
  zh      : *ZH_HANS
  zh-CN   : *ZH_HANS
  zh-SG   : *ZH_HANS
  zh-Hant : &ZH_HANT  歸檔
  zh-TW   : *ZH_HANT
  zh-HK   : *ZH_HANT
  ko      : &KO       아카이브
  ko-KR   : *KO
  es      : &ES       Archivos
  es-ES   : *ES
  es-LA   : *ES
  tr      : &TR       Arşivdekiler
  # @end locale config
---
{{ content }}

<div class="layout--archive js-all">
  {%- include tags.html -%}
  <div class="js-result layout--archive__result d-none">
    {%- include article-list.html articles=site.lab type='brief' show_info=true reverse=true group_by='year' -%}
  </div>
</div>

<div id="archive-results" class="archive-results">
  {% assign items = site[page.data_source] | default: site.lab %}
  {% include article-list.html articles=items %}
</div>
<script>
(function(){
  // Simple client-side tag filter (no jQuery)
  const params = new URLSearchParams(window.location.search);
  const tag = params.get('tag');
  if(!tag) return;
  document.querySelectorAll('#archive-results [data-tags]').forEach(el=>{
    const tags = el.getAttribute('data-tags').split(' ');
    if(!tags.includes(tag)) el.style.display='none';
  });
})();
</script>

